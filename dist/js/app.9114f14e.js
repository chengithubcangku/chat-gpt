(function(){"use strict";var e={3250:function(e,t,n){var o=n(9242),a=(n(7658),n(541),n(3396)),l=n(7139),i=n(4870),s=n(4161);const c={id:"main"},u={id:"center"},r={id:"bottom"};var d=(0,a.aZ)({__name:"dialogCom",props:{title:null,show:{type:Boolean}},setup(e){const t=e;return(e,n)=>((0,a.wg)(),(0,a.iD)("div",{id:"dialog",class:(0,l.C_)({show:t.show})},[(0,a._)("div",c,[(0,a._)("p",null,(0,l.zw)(t.title),1),(0,a._)("div",u,[(0,a.WI)(e.$slots,"center")]),(0,a._)("div",r,[(0,a.WI)(e.$slots,"bottom")])])],2))}}),v=n(89);const p=(0,v.Z)(d,[["__scopeId","data-v-ee57da5a"]]);var g=p;let h=0;function m(e){const t=document.querySelector("body");console.log("üöÄ | bodyDom:",t);const n=document.createElement("div");n.id="messageBox",n.className="messageBox-"+ ++h,n.innerHTML=`<div class="${e.type}">${e.content}</div>`,t?.appendChild(n),setTimeout((()=>{h--,n.remove()}),3e3)}var f=m,w=n(5068),y=n(5792);const _=e=>((0,a.dD)("data-v-2cf41b56"),e=e(),(0,a.Cn)(),e),k={id:"chatgpt"},b={id:"chats"},C={class:"list"},S=["onClick"],D=["onClick"],H={id:"main"},O={key:0,id:"messages"},q={class:"img"},I={key:0,src:"https://q1.qlogo.cn/g?b=qq&nk=1656071287&s=640",alt:"You"},T={key:1,src:"https://chat.openai.com/apple-touch-icon.png",alt:"chatgpt"},j=["innerHTML"],x={key:0},N=_((()=>(0,a._)("div",{class:"img"},[(0,a._)("img",{src:"https://chat.openai.com/apple-touch-icon.png",alt:"chatgpt"})],-1))),U=_((()=>(0,a._)("div",{class:"content loading"},null,-1))),Y=[N,U],B=_((()=>(0,a._)("div",{id:"stretch"},null,-1))),M={key:1,id:"home"},P=_((()=>(0,a._)("div",null,[(0,a._)("p",null,"ChatGPT By:N0ts"),(0,a._)("div",{class:"content"},[(0,a._)("p",null,[(0,a.Uk)(" ÂºÄÊ∫êÂú∞ÂùÄÔºàÊ±Ç starÔºâÔºö"),(0,a._)("a",{href:"https://gitee.com/n0ts/chat-gpt",target:"_blank"},"Gitee")]),(0,a._)("p",null,"ÁûéÂÜô‰∏ÄÈÄöÔºåÂäüËÉΩÁÆÄÂçïÊâÄ‰ª•‰ª£Á†ÅËæÉËá≠"),(0,a._)("p",null,"Êú¨È°πÁõÆÁ∫ØÂâçÁ´ØËá™Â®±Ëá™‰πêÔºå‰∏ç‰ºö‰øùÂ≠ò‰ªª‰ΩïÊï∞ÊçÆ"),(0,a._)("p",null,[(0,a.Uk)(" ÊäÄÊúØ‰∫§ÊµÅÔºö"),(0,a._)("a",{href:"https://jq.qq.com/?_wv=1027&k=Mh7ah6Dd"},"ÂùöÊûúÂ∞èÊ†à")])])],-1))),K=[P],Z={id:"input"},J=_((()=>(0,a._)("p",null,"ËØ∑Âú®‰∏ãÊñπËæìÂÖ•‰Ω†ÁöÑ key",-1))),L=_((()=>(0,a._)("p",null,[(0,a.Uk)(" Áî≥ËØ∑Âú∞ÂùÄÔºö"),(0,a._)("a",{href:"https://platform.openai.com/account/api-keys",target:"_blank"},"ÁÇπÊàë")],-1))),$=["onKeydown"],z=_((()=>(0,a._)("p",{class:"tips"}," key ‰ºö‰øùÂ≠òÂú®Êú¨Âú∞ÊµèËßàÂô®(localStorage)‰∏≠ÔºåÂè™‰æõÊú¨Âú∞‰ΩøÁî® ",-1)));var E=(0,a.aZ)({__name:"App",setup(e){const t=window.localStorage.getItem("chatgpt-key"),n=(0,i.iH)(t||""),c=(0,i.iH)(""==n.value);function u(){if(""==n.value)return f({type:"warning",content:"key ‰∏çËÉΩ‰∏∫Á©∫"});window.localStorage.setItem("chatgpt-key",n.value),c.value=!1,f({type:"success",content:"key Â≠òÂÇ®ÊàêÂäüÔºåÂºÄÂßãÊèêÈóÆÂêß"})}const r=(0,i.iH)(!1);async function d(){r.value=!0,await(0,s.Z)({method:"post",url:"https://api.openai.com/v1/chat/completions",headers:{Authorization:`Bearer ${n.value}`},data:{model:"gpt-3.5-turbo",messages:G[A.value].contents},timeout:3e4}).then((e=>{G[A.value].contents.push({role:"assistant",content:e.data.choices[0].message.content}),F(),window.localStorage.setItem("message-data",JSON.stringify(G)),m(),console.log("üöÄ ÂØπËØùÁªìÊûúÔºö | clients[clientsIndex.value].contents:",G[A.value].contents)})).catch((e=>{"invalid_api_key"==e.response.data.error.code&&(f({type:"danger",content:"key ÈîôËØØÔºåËØ∑ÈáçÊñ∞ËæìÂÖ•"}),window.localStorage.removeItem("chatgpt-key"),c.value=!0,n.value="")})).finally((()=>{r.value=!1}))}const v=(0,i.iH)("");function p(){if(""!=v.value&&""!=v.value.trim()&&!r.value){if(-1==A.value&&(G.unshift({name:"",contents:[]}),A.value=0),G[A.value].contents.push({role:"user",content:v.value}),1==G[A.value].contents.length){const e=v.value.substring(0,50);G[A.value].name=e,document.title=e+" | ChatGPT"}window.localStorage.setItem("message-data",JSON.stringify(G)),v.value="",m(),d()}}let h=null;async function m(){await(0,a.Y3)(),h?h.scrollTo({top:h.scrollHeight}):(h=document.querySelector("#messages"),m())}(0,a.bv)((()=>{h=document.querySelector("#messages")}));let _=!1;function N(e){if(16===e.keyCode&&(_=!0),!_&&13===e.keyCode)return p(),e.preventDefault(),!1}function U(e){16===e.keyCode&&(_=!1)}const P=(0,i.iH)(24);(0,a.YP)((()=>v.value),(()=>{const e=v.value.split("\n").length;P.value=24*e}));const E=window.localStorage.getItem("message-data"),G=(0,i.qj)(E?JSON.parse(E):[]),A=(0,i.iH)(-1);function W(){window.localStorage.setItem("message-data",JSON.stringify(G)),G.unshift({name:"Êñ∞‰ºöËØù",contents:[]}),v.value="",A.value=0}function V(e){G.splice(e,1),A.value=-1,window.localStorage.setItem("message-data",JSON.stringify(G))}async function F(){await(0,a.Y3)();const e=[];document.querySelectorAll("#messages pre code").forEach((t=>{t.className.includes("hljs")||(y.Z.highlightElement(t),e.push(t))})),Q(e)}function Q(e){for(let t=0;t<e.length;t++)e[t].innerHTML="<ol><li>"+e[t].innerHTML.replace(/\n/g,"\n</li><li>")+"\n</li></ol>"}(0,a.YP)((()=>A.value),(()=>{G[A.value]&&(document.title=G[A.value].name+" | ChatGPT",F(),m())}));const R=(0,i.iH)(!1);return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",k,[(0,a._)("div",{id:"sidebar",class:(0,l.C_)({sideBarShow:R.value})},[(0,a._)("div",b,[(0,a._)("div",{class:"btn",onClick:W},"Êñ∞Âª∫‰ºöËØù"),(0,a._)("div",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(G,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,onClick:e=>A.value=t,class:(0,l.C_)({active:A.value==t})},[(0,a.Uk)((0,l.zw)(e.name)+" ",1),(0,a._)("span",{onClick:e=>V(t)},"Âà†Èô§",8,D)],10,S)))),128))])]),(0,a._)("div",{id:"showBtn",onClick:t[0]||(t[0]=e=>R.value=!R.value)},(0,l.zw)(R.value?"Êî∂Ëµ∑":"Â±ïÂºÄ"),1)],2),(0,a._)("div",H,[G[A.value]?((0,a.wg)(),(0,a.iD)("div",O,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(G[A.value].contents,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("div",q,["user"==e.role?((0,a.wg)(),(0,a.iD)("img",I)):((0,a.wg)(),(0,a.iD)("img",T))]),(0,a._)("div",{class:"content",innerHTML:(0,i.SU)(w.TU).parse(e.content)},null,8,j)])))),128)),r.value?((0,a.wg)(),(0,a.iD)("div",x,Y)):(0,a.kq)("",!0),B])):((0,a.wg)(),(0,a.iD)("div",M,K)),(0,a._)("div",Z,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),onKeydown:N,onKeyup:U,style:(0,l.j5)({height:P.value+"px"})},null,36),[[o.nr,v.value]])])])]),(0,a.Wm)(g,{title:"ËæìÂÖ• key",show:c.value},{center:(0,a.w5)((()=>[J,L,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e),onKeydown:(0,o.D2)(u,["enter"])},null,40,$),[[o.nr,n.value]]),z])),bottom:(0,a.w5)((()=>[(0,a._)("button",{class:"success",onClick:u},"Êèê‰∫§")])),_:1},8,["show"])],64))}});const G=(0,v.Z)(E,[["__scopeId","data-v-2cf41b56"]]);var A=G;(0,o.ri)(A).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,l){if(!o){var i=1/0;for(r=0;r<e.length;r++){o=e[r][0],a=e[r][1],l=e[r][2];for(var s=!0,c=0;c<o.length;c++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(s=!1,l<i&&(i=l));if(s){e.splice(r--,1);var u=a();void 0!==u&&(t=u)}}return t}l=l||0;for(var r=e.length;r>0&&e[r-1][2]>l;r--)e[r]=e[r-1];e[r]=[o,a,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,l,i=o[0],s=o[1],c=o[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var r=c(n)}for(t&&t(o);u<i.length;u++)l=i[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(r)},o=self["webpackChunkchatgpt"]=self["webpackChunkchatgpt"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3250)}));o=n.O(o)})();
//# sourceMappingURL=app.9114f14e.js.map