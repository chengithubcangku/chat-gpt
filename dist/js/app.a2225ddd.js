(function(){"use strict";var e={2493:function(e,t,n){var a=n(9242),o=(n(7658),n(541),n(3396)),l=n(7139),i=n(4870),c=n(4161);const s={id:"main"},u={id:"center"},r={id:"bottom"};var d=(0,o.aZ)({__name:"dialogCom",props:{title:null,show:{type:Boolean}},setup(e){const t=e;return(e,n)=>((0,o.wg)(),(0,o.iD)("div",{id:"dialog",class:(0,l.C_)({show:t.show})},[(0,o._)("div",s,[(0,o._)("p",null,(0,l.zw)(t.title),1),(0,o._)("div",u,[(0,o.WI)(e.$slots,"center")]),(0,o._)("div",r,[(0,o.WI)(e.$slots,"bottom")])])],2))}}),v=n(89);const g=(0,v.Z)(d,[["__scopeId","data-v-ee57da5a"]]);var h=g;let p=0;function m(e){const t=document.querySelector("body"),n=document.createElement("div");n.id="messageBox",n.className="messageBox-"+ ++p,n.innerHTML=`<div class="${e.type}">${e.content}</div>`,t?.appendChild(n),setTimeout((()=>{p--,n.remove()}),3e3)}var f=m,w=n(5068),y=n(5792),_=n(8134),k=n.n(_),S=n(3099),b=n.n(S);const C=(0,i.iH)("");function H(e){window.localStorage.setItem("n0ts-chatgpt-theme",e),C.value=e}function I(){const e=window.localStorage.getItem("n0ts-chatgpt-theme");e?C.value=e:H("light"),document.documentElement.setAttribute("theme",e||"light")}function T(){C.value=window.localStorage.getItem("n0ts-chatgpt-theme"),C.value="light"===C.value?"dark":"light",H(C.value),I()}var O={switchTheme:T,load:I,themeCache:C};const D=e=>((0,o.dD)("data-v-891392d8"),e=e(),(0,o.Cn)(),e),x={id:"chatgpt"},j={id:"chats"},q={class:"list"},M=["onClick"],N=["onClick"],U={id:"bottom"},B={id:"main"},E={key:0,id:"messages"},P={class:"img"},Y={key:0,class:"user"},A={key:1,class:"ai"},L=["innerHTML"],$={key:1,class:"content"},z={key:0},J=D((()=>(0,o._)("div",{class:"img"},[(0,o._)("img",{src:"https://chat.openai.com/apple-touch-icon.png",alt:"chatgpt"})],-1))),K=D((()=>(0,o._)("div",{class:"content loading"},null,-1))),Z=[J,K],G=D((()=>(0,o._)("div",{id:"stretch"},null,-1))),W={key:1,id:"home"},V=D((()=>(0,o._)("div",null,[(0,o._)("p",null,"ChatGPT By:N0ts"),(0,o._)("div",{class:"content"},[(0,o._)("p",null,[(0,o.Uk)(" ÂºÄÊ∫êÂú∞ÂùÄÔºàÊ±Ç starÔºâÔºö"),(0,o._)("a",{href:"https://gitee.com/n0ts/chat-gpt",target:"_blank"},"Gitee")]),(0,o._)("p",null,"ÁûéÂÜô‰∏ÄÈÄöÔºåÂäüËÉΩÁÆÄÂçïÊâÄ‰ª•‰ª£Á†ÅËæÉËá≠"),(0,o._)("p",null,"Êú¨È°πÁõÆÁ∫ØÂâçÁ´ØËá™Â®±Ëá™‰πêÔºå‰∏ç‰ºö‰øùÂ≠ò‰ªª‰ΩïÊï∞ÊçÆ"),(0,o._)("p",null,[(0,o.Uk)(" ÊäÄÊúØ‰∫§ÊµÅÔºö"),(0,o._)("a",{href:"https://jq.qq.com/?_wv=1027&k=Mh7ah6Dd"},"ÂùöÊûúÂ∞èÊ†à")])])],-1))),F=[V],Q={id:"input"},R=D((()=>(0,o._)("p",null,"ËØ∑Âú®‰∏ãÊñπËæìÂÖ•‰Ω†ÁöÑ key",-1))),X=D((()=>(0,o._)("p",null,[(0,o.Uk)(" Áî≥ËØ∑Âú∞ÂùÄÔºö"),(0,o._)("a",{href:"https://platform.openai.com/account/api-keys",target:"_blank"},"ÁÇπÊàë")],-1))),ee=["onKeydown"],te=D((()=>(0,o._)("p",{class:"tips"}," key ‰ºö‰øùÂ≠òÂú®Êú¨Âú∞ÊµèËßàÂô®(localStorage)‰∏≠ÔºåÂè™‰æõÊú¨Âú∞‰ΩøÁî® ",-1)));var ne=(0,o.aZ)({__name:"App",setup(e){const t=window.localStorage.getItem("chatgpt-key"),n=(0,i.iH)(t||""),s=(0,i.iH)(""==n.value);let u=null,r=null;function d(){if(""==n.value)return f({type:"warning",content:"key ‰∏çËÉΩ‰∏∫Á©∫"});window.localStorage.setItem("chatgpt-key",n.value),s.value=!1,f({type:"success",content:"key Â≠òÂÇ®ÊàêÂäüÔºåÂºÄÂßãÊèêÈóÆÂêß"})}(0,o.bv)((()=>{r=new(b())(document.querySelector("#main")),u=document.querySelector("#messages"),O.load()}));const v=(0,i.iH)(!1);async function g(){v.value=!0,await(0,c.Z)({method:"post",url:"https://node.fatshady.cn/cors",timeout:6e5,data:{method:"POST",url:"https://api.openai.com/v1/chat/completions",data:{model:"gpt-3.5-turbo",messages:J[K.value].contents},timeout:6e4,headers:{Authorization:`Bearer ${n.value}`}}}).then((e=>{if(400==e.data.status)throw e.data;p(e.data)})).catch((e=>{p(null,`ÁΩëÁªúËØ∑Ê±ÇÈîôËØØÔºåËØ∑ËÅîÁ≥ªÁ´ôÈïøÊéíÊü•ÔºÅÈîôËØØÂÜÖÂÆπÔºö\n                    \`\`\`${JSON.stringify(e.msg)}\`\`\``),"invalid_api_key"==e.msg?.error?.code&&(f({type:"danger",content:"key ÈîôËØØÔºåËØ∑ÈáçÊñ∞ËæìÂÖ•"}),window.localStorage.removeItem("chatgpt-key"),s.value=!0,n.value="")})).finally((()=>{v.value=!1}))}function p(e,t){J[K.value].contents.push({role:"assistant",content:t||e.data.choices[0].message.content}),ae(),window.localStorage.setItem("message-data",JSON.stringify(J)),S(),console.log("üöÄ ÂØπËØùÁªìÊûúÔºö | clients[clientsIndex.value].contents:",J[K.value].contents)}const m=(0,i.iH)("");function _(){if(""!=m.value&&""!=m.value.trim()&&!v.value){if(-1==K.value&&(J.unshift({name:"",contents:[]}),K.value=0),J[K.value].contents.push({role:"user",content:m.value}),1==J[K.value].contents.length){const e=m.value;J[K.value].name=e,document.title=e+" | ChatGPT"}window.localStorage.setItem("message-data",JSON.stringify(J)),m.value="",S(),g()}}async function S(){if(await(0,o.Y3)(),u=document.querySelector("#messages"),u){const e=u.children;let t=0;e[e.length-1]&&(t+=e[e.length-1].clientHeight),e[e.length-2]&&(t+=e[e.length-2].clientHeight),u.scrollTo({top:u.scrollHeight-t})}else S()}let C=!1;function H(e){if(16===e.keyCode&&(C=!0),!C&&13===e.keyCode)return _(),e.preventDefault(),!1}function I(e){16===e.keyCode&&(C=!1)}const T=(0,i.iH)(24);(0,o.YP)((()=>m.value),(()=>{const e=m.value.split("\n").length;T.value=24*e}));const D=window.localStorage.getItem("message-data"),J=(0,i.qj)(D?JSON.parse(D):[]),K=(0,i.iH)(-1);function V(){window.localStorage.setItem("message-data",JSON.stringify(J)),J.unshift({name:"Êñ∞‰ºöËØù",contents:[]}),m.value="",K.value=0}function ne(e){J.splice(e,1),K.value=-1,window.localStorage.setItem("message-data",JSON.stringify(J))}async function ae(){await(0,o.Y3)();const e=[];document.querySelectorAll("#messages pre code").forEach((t=>{const n=t;if(!n.className.includes("hljs")){const t=document.createElement("div");t.className="copyBtn",t.innerHTML="Â§çÂà∂",t.setAttribute("code",n.innerText),t.addEventListener("click",(e=>{ie(e)})),n.parentElement?.appendChild(t),y.Z.highlightElement(n),e.push(n)}})),oe(e)}function oe(e){for(let t=0;t<e.length;t++){const n=e[t].innerHTML.replace(/\n/g,"</li><li>");e[t].innerHTML=`<ol><li>${n}</li></ol>`.replace("<li></li></ol>","</ol>")}}(0,o.YP)((()=>K.value),(async()=>{J[K.value]&&(document.title=J[K.value].name+" | ChatGPT",ae(),S(),await(0,o.Y3)(),r.update())}));const le=(0,i.iH)(!1);function ie(e){const t=e.target.getAttribute("code");t&&(k().copy(t),f({type:"success",content:"Â§çÂà∂ÊàêÂäü"}))}function ce(){window.localStorage.removeItem("message-data"),window.localStorage.removeItem("chatgpt-key"),window.location.reload()}return(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",x,[(0,o._)("div",{id:"sidebar",class:(0,l.C_)({sideBarShow:le.value})},[(0,o._)("div",j,[(0,o._)("div",{class:"btn",onClick:V},"Êñ∞Âª∫‰ºöËØù"),(0,o._)("div",q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(J,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,onClick:e=>K.value=t,class:(0,l.C_)({active:K.value==t})},[(0,o._)("p",null,(0,l.zw)(e.name),1),(0,o._)("span",{onClick:(0,a.iM)((e=>ne(t)),["stop"])},"Âà†Èô§",8,N)],10,M)))),128))])]),(0,o._)("div",{id:"showBtn",onClick:t[0]||(t[0]=e=>le.value=!le.value)},(0,l.zw)(le.value?"Êî∂Ëµ∑":"Â±ïÂºÄ"),1),(0,o._)("div",U,[(0,o._)("div",{class:"btn",onClick:t[1]||(t[1]=(...e)=>(0,i.SU)(O).switchTheme&&(0,i.SU)(O).switchTheme(...e))},(0,l.zw)("light"==(0,i.SU)(O).themeCache.value?"ÊöóËâ≤Ê®°Âºè":"‰∫ÆËâ≤Ê®°Âºè"),1),(0,o._)("div",{class:"btn",onClick:ce},"ÈáçÁΩÆÈÖçÁΩÆ")])],2),(0,o._)("div",B,[J[K.value]?((0,o.wg)(),(0,o.iD)("div",E,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(J[K.value].contents,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",P,["user"==e.role?((0,o.wg)(),(0,o.iD)("div",Y,"Me")):((0,o.wg)(),(0,o.iD)("div",A,"AI"))]),"assistant"==e.role?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"content",innerHTML:(0,i.SU)(w.TU).parse(e.content)},null,8,L)):((0,o.wg)(),(0,o.iD)("div",$,[(0,o._)("p",null,(0,l.zw)(e.content),1)]))])))),128)),v.value?((0,o.wg)(),(0,o.iD)("div",z,Z)):(0,o.kq)("",!0),G])):((0,o.wg)(),(0,o.iD)("div",W,F)),(0,o._)("div",Q,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),onKeydown:H,onKeyup:I,style:(0,l.j5)({height:T.value+"px"})},null,36),[[a.nr,m.value]])])])]),(0,o.Wm)(h,{title:"ËæìÂÖ• key",show:s.value},{center:(0,o.w5)((()=>[R,X,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.value=e),onKeydown:(0,a.D2)(d,["enter"])},null,40,ee),[[a.nr,n.value]]),te])),bottom:(0,o.w5)((()=>[(0,o._)("button",{class:"success",onClick:d},"Êèê‰∫§")])),_:1},8,["show"])],64))}});const ae=(0,v.Z)(ne,[["__scopeId","data-v-891392d8"]]);var oe=ae;(0,a.ri)(oe).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,l){if(!a){var i=1/0;for(r=0;r<e.length;r++){a=e[r][0],o=e[r][1],l=e[r][2];for(var c=!0,s=0;s<a.length;s++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(c=!1,l<i&&(i=l));if(c){e.splice(r--,1);var u=o();void 0!==u&&(t=u)}}return t}l=l||0;for(var r=e.length;r>0&&e[r-1][2]>l;r--)e[r]=e[r-1];e[r]=[a,o,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,i=a[0],c=a[1],s=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var r=s(n)}for(t&&t(a);u<i.length;u++)l=i[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(r)},a=self["webpackChunkchatgpt"]=self["webpackChunkchatgpt"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2493)}));a=n.O(a)})();
//# sourceMappingURL=app.a2225ddd.js.map